# 一、git的学习以及应用

## 第一章、git的含义

1. 分布式

2. 版本控制

   - 文件形式(多文件):一个版本对应一个文件。
   - 本地版本控制(一个文件)：一个文件里面有多个版本，而且通过本地的版本控制软件(或者一个命令)还可以实现对不同版本的统一管理。
   - 集中式的版本控制(svn)：把所有的版本都存放在了中央服务器上面，用户可以共同更新存放在服务器中的所有版本。但是集中式的版本控制有一个缺点：因为用户在写完一个版本上传到中央服务器时，是没有把该版本存放在本地服务器的，所以当中央服务器挂掉的时候会导致版本的缺失。
   - **分布式的版本控制：**分布式的版本控制与集中式的版本控制原理大同小异，也是把所有的版本放在了中央服务器上面，但是唯一不同的是，用户在上传新版本到中央服务器的时候，会首先把这个版本存放在自己的本地服务器里，在把这些版本同步到中央服务器中。所以当中央服务器挂掉的时候，也可以在自己的服务器中找到自己所写的版本，从而解决了因中央服务器挂掉而导致的版本缺失这一顾虑。

3. 软件

   **综上所述：git是一个分布式的版本控制软件。**

## 第二章、为什么要做版本控制

为什么要做版本控制呢？因为在做不同的事情的时候，基本上不会出现一步到位，一次就能做好的事情，例如模块功能的迭代，这就需要在初始的代码版本里不断的迭代出新的代码，而版本控制主要是：若新版本上线时突然发生的功能异常，那么员工就需要在使用新版本的上一个版本进行重新的迭代(也可以说时新版本的回滚)，这样可以使因错误而导致的功能异常所导致的成本损失会大幅度的降低。



## 第三章、git的安装

**注意事项：**装上git软件只能在自己的设备上进行版本的控制，而不能把版本上传到中心服务器上面，要使版本能上传到中心服务器上面，那么就需要进行联网并登录github这个网站(后面会说到)。

1. 安装步骤：

2. 点击官网https://git-scm.com/—>downloads—>选择版本(windows x64)—>安装—>安装成功

3. 安装成功的标志：

   - 点击鼠标右键，提示栏里面有Git Bash Here和Git GUI Here。

   - 输入代码，会显示git的版本。

     ```
     git --version
     ```



## 第四章、git的初步运用

怎么样用git实现对版本的控制？即用git管理版本所存放的文件夹。步骤如下：

1. 进入要管理的文件夹中

2. 初始化（给予管理版本的权限)

   ```
   git init
   ```

   ![](D:\Typora_img\git_img\img_1\img-1.png)

   ​                                                                                         图2

   

3. 管理

   ```
   git status(检测该文件夹下的文件状态)
   git add git_2.txt(管理git_2文件)
   git status(继续检测文件状态，发现被管理的文件变成绿色)
   git add .(管理该文件夹下的所有文件)
   ```



4. 生成版本

   ```
   git commit -m 'version_1'(把上述管理的文件生成第一个版本)
   //不过在你提交第一次版本之前，git会先询问你电脑的邮箱和你的用户名，则需要输入以下命令
   git config --global user.email "*****@qq.com"
   git config --global user.name "梁**"
   //接着在输入生成版本命令即可
   //若在第一个版本上修改了内容，即重复上述步骤并生成第二个版本即可(除了git config之外)
   //最后生成两个版本之后可以使用下列命令查看你的所有版本
   git log
   ```

   <img src="D:\Typora_img\git_img\img_1\img-2.png" style="zoom:67%;" />

   ​                                                                                             图3

   <img src="D:\Typora_img\git_img\img_1\img-3.png" style="zoom: 67%;" />

   ​                                                                                             图4

   <img src="D:\Typora_img\git_img\img_1\img-4.png" style="zoom:67%;" />

   ​                                                                                             图5

5. 总结(生成版本的步骤)

   ```
   git init //初始化git，使git获得管理文件的权利
   git status //检测需要管理文件的状态(红色表示未管理，绿色表示已经管理)
   git add '文件名'& git add . //管理文件&管理所有文件
   git commit -m '版本号' //把管理起来的文件生成一个版本
   git log //查看自己的版本名字以及创建版本的时间
   ```

   

## 第五章、运行git的注意事项

1. 当git生成版本之前，需要先进行信息的配置，即配置用户的用户名以及用户邮箱(email、name)，git的语法如下：

   ```
   git config --global user.email "邮箱名"
   git config --global user.name "用户名"
   ```

   

## 第六章、git的三大区域

1. 工作区：工作区存放新的文件，通过git add 把工作区的文件放入到暂存区中。

2. 暂存区：通过 git commit -m 命令把暂存区的文件生成版本。同时也可以回滚回工作区。

3. 版本库：存放版本的仓库。

   

## 第七章、回滚

1. 命令如下：

   ```
   git log 
   git reset --hard 回滚到上一个版本的编号(例如有1和2两个版本，不要2版本，要1版本，则需要回滚到1版本，即提供1版本的版本编号);同时也可以使用 git reset HEAD^ 来进行对上一个版本的回滚，前者可以根据版本的编号进行特定的回滚，而后者是只能对上一个版本进行回滚，两者的用法不一。
   git reflog
   git reset --hard 回到下一个版本的编号// 两个编号不一样的 这个要注意
   ```

   <img src="D:\Typora_img\git_img\img_1\img-5.png" style="zoom:67%;" />

   ​                                                                                           图6

   

   <img src="D:\Typora_img\git_img\img_1\img-6.png" style="zoom:67%;" />

   ​                                                                                                 图7

2. 提示：这里的版本地址非常长，要想复制地址的话，要先选中地址，点击按键ctrl+ins复制，shift+ins粘贴即可。

## 第八章、git命令的小总结

```
git init //初始化git，使git有管理文件的权限
git add //(工作区2——>暂存区)
git commit '版本名称' //(暂存区——>版本库)
git log 
git reset --hard //版本回滚(版本库——>工作区1)
git reset --soft//版本回滚(版本库——>暂存区)
git reset --HEAD //版本回滚(暂存区——>工作区2)
git reset checkout //(工作区2——>工作区1) 工作区分为两块，第一块已管理的文件，这里称为工作区1，第二块是git检测到的文件，这里称为工作区2
git reflog 
```

<img src="git&github.assets/img-8.png" style="zoom:67%;" />

## 第九章、初识分支

1. 若版本二是由版本一通过修改功能而得来的，那么版本二只需要存放修改的内容，而原先版本一的功能可以不用写在版本二里。

   **Q：如果版本二里面没有版本一原先的代码，那么怎么保持着拥有版本一原先并未需要修改的功能呢？**

   版本二会有一个指针指向版本一，那么版本二就可以运用版本一中不需要修改的代码来使用了，这样可以有效的提高生成版本的效率。

   **Q：为什么会说是分支？**

   因为一个版本可以被多个版本所指向，即可以在这个版本上同时扩展多个功能(版本)，最后再将这两个功能(版本)合成一个版本，例如订单功能里可以分出两个功能：支付功能和退单功能，那么这两个功能可以分给两组人去做，等两组人都完成了在把这两个功能合起来生成一个新的版本，这就是说是分支的原因。

## 第十章、紧急修复线上bug的思路

紧急修复线上bug的方法就是利用分支的思想，当在开发新功能的时候发现之前开发的功能出现bug的时候，我们可以在之前的版本中创建多一个分支，这个分支是专门用来修复bug的，当bug修复完成之后呢，再把它传回之前的版本中，从而开发新功能的版本不会有任何的影响从而发生开发时间的推移。

## 第十一章、基于分支修复线上bug的具体过程

```
git branch 分支名称 //创建分支
git checkout 分支名称 //切换分支，在这里开发的功能不影响主干路master
git add./ git commit -m / 创建版本
git checkout master /切换回主路
git merge 分支名称 /合并分支
注意 合并分支的时候一定要先返回到主干路上
```

```
例子如下：
git branch dev
git checkout dev //创建dev分支并切换到该分支上
git add./ git commit -m //在该分支上上传版本
git checkout master //切换成主干路
git merge dev //把dev分支合并上主干上
```

<img src="D:\Typora_img\git_img\img_1\img-7.png" style="zoom:67%;" />

​                                                                                                    图8

## 第十二章、命令总结和工作流

1. 查看分支

```
git branch
```

2. 创建分支

```
git branch 分支名称
```

3. 切换分支

```
git checkout 分支名称
```

4. 合并分支

```
git checkout master (若已在master上则不需要再次切换)
git merge 分支名称
```

5. 删除分支

```
git branch -d 分支名称
```

6. 工作流

   最简单的工作流起码要有两条分支，一条是主干线master，另外一条是开发功能时候所用到的分支dev。在分支dev流上可以是功能的许多测试版，但是到了主干线master上面一定要是功能版本的正式版。

# 二、github的学习及应用





